<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="RiskCom">
<title>RiskCom • RiskCom</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="RiskCom">
<meta property="og:description" content="RiskCom">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">RiskCom</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/RiskComVignette.html">RiskCom</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>RiskCom</h1>
            
      
      
      <div class="d-none name"><code>RiskComVignette.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RiskCom</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>RiskCom is a package containing tools to help in communicating
risk.</p>
<p>Previous packages were less customisable and required the use of
specific icon libraries. RiskCom is flexible and allows images in files
or internet URLs to be used, there is also a small built-in library of
custom made icons.</p>
</div>
<div class="section level2">
<h2 id="waffles-waffle-plots">
<code>waffles</code>: Waffle plots<a class="anchor" aria-label="anchor" href="#waffles-waffle-plots"></a>
</h2>
<p>Waffle plots are useful for showing percentages, with each icon
representing one percent. RiskCom contains some icons which can be used.
Images in files or an internet URL can also be used.</p>
<div class="section level3">
<h3 id="single">Single<a class="anchor" aria-label="anchor" href="#single"></a>
</h3>
<p>It is very easy to create simple waffle plots. Here, the small
built-in RiskCom library is used. To use a local image or an image from
the internet, the <code>icon_lib</code> option can be set to
<code>file</code> or <code>internet</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">icons</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"happy"</span>, <span class="st">"neutral"</span>, <span class="st">"sad"</span><span class="op">)</span> <span class="co"># Choose icons</span></span>
<span><span class="va">legend</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Happy"</span>, <span class="st">"Neutral"</span>, <span class="st">"Sad"</span><span class="op">)</span> <span class="co"># Name for the icons</span></span>
<span><span class="va">percentages</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">35</span>, <span class="fl">45</span>, <span class="fl">20</span><span class="op">)</span> <span class="co"># Percentage of each icon</span></span>
<span><span class="fu"><a href="../reference/waffles.html">waffles</a></span><span class="op">(</span><span class="va">icons</span>, <span class="va">legend</span>, <span class="va">percentages</span>, icon_lib<span class="op">=</span><span class="st">"RiskCom"</span><span class="op">)</span> <span class="co"># The waffle plot function</span></span></code></pre></div>
<p><img src="RiskComVignette_files/figure-html/unnamed-chunk-2-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="double">Double<a class="anchor" aria-label="anchor" href="#double"></a>
</h3>
<p>A double waffle plot can be used to add an extra dimension to the
waffle plots. The example below shows how many people have a disease and
how many people are happy.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">icons1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"person"</span>, <span class="st">"person_grey"</span><span class="op">)</span></span>
<span><span class="va">icons2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"happy"</span>, <span class="st">"neutral"</span>, <span class="st">"sad"</span><span class="op">)</span></span>
<span><span class="va">legend1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"No disease"</span>, <span class="st">"Disease"</span><span class="op">)</span></span>
<span><span class="va">legend2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Happy"</span>, <span class="st">"Neutral"</span>, <span class="st">"Sad"</span><span class="op">)</span></span>
<span><span class="va">percentages</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">70</span>,<span class="fl">9</span>,<span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">12</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/waffles.html">waffles</a></span><span class="op">(</span>icons<span class="op">=</span><span class="va">icons1</span>, legend<span class="op">=</span><span class="va">legend1</span>, <span class="va">percentages</span>,</span>
<span>        icons2<span class="op">=</span><span class="va">icons2</span>, legend2<span class="op">=</span><span class="va">legend2</span>, icon_size<span class="op">=</span><span class="fl">0.09</span><span class="op">)</span></span>
<span><span class="co">#&gt; Scale for <span style="color: #00BB00;">y</span> is already present.</span></span>
<span><span class="co">#&gt; Adding another scale for <span style="color: #00BB00;">y</span>, which will replace the existing scale.</span></span></code></pre></div>
<p><img src="RiskComVignette_files/figure-html/unnamed-chunk-3-1.png" width="100%"></p>
</div>
</div>
<div class="section level2">
<h2 id="ninn-showing-n-in-n-patients-with-a-disease-or-condition">
<code>ninN</code>: Showing n in N patients with a disease or
condition<a class="anchor" aria-label="anchor" href="#ninn-showing-n-in-n-patients-with-a-disease-or-condition"></a>
</h2>
<p>These can help in visually demonstrating statements such as “Two in
five people have high cholesterol.” They are similar to waffle plots,
but on a smaller scale.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ninN.html">ninN</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">2</span>, N<span class="op">=</span><span class="fl">5</span>, icon<span class="op">=</span><span class="st">"person"</span>, plt_size<span class="op">=</span><span class="fl">.8</span><span class="op">)</span></span></code></pre></div>
<p><img src="RiskComVignette_files/figure-html/unnamed-chunk-4-1.png" width="100%"></p>
<p>If, for example, some risk factor increased this to three in five, we
could show this using the <code>additional</code> argument. Here we also
show how the <code>colours</code> argument can be used to choose the
colour of the icons.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ninN.html">ninN</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">2</span>, N<span class="op">=</span><span class="fl">5</span>, icon<span class="op">=</span><span class="st">"person"</span>, additional<span class="op">=</span><span class="fl">1</span>, plt_size<span class="op">=</span><span class="fl">.8</span>, colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"blue"</span>, <span class="st">"lightgrey"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="RiskComVignette_files/figure-html/unnamed-chunk-5-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="barprob-visual-plot-of-probabilties">
<code>barprob</code>: Visual plot of probabilties<a class="anchor" aria-label="anchor" href="#barprob-visual-plot-of-probabilties"></a>
</h2>
<p>Pie charts are commonly used, but they can be difficult to read as we
find it difficult to judge angles and find it easier to judge straight
line distances. An alternative to a bar chart is to just use a single
line. The <code>barprob</code> function can be used for this.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/barprob.html">barprob</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Yes"</span>, <span class="st">"No"</span><span class="op">)</span>, </span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">80</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="RiskComVignette_files/figure-html/unnamed-chunk-6-1.png" width="1750"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/barprob.html">barprob</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Yes"</span>, <span class="st">"Maybe"</span>, <span class="st">"No"</span><span class="op">)</span>, </span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">30</span>,<span class="fl">20</span><span class="op">)</span>,</span>
<span>         colours<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"green"</span>, <span class="st">"orange"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="RiskComVignette_files/figure-html/unnamed-chunk-7-1.png" width="1750"></p>
</div>
<div class="section level2">
<h2 id="bartab-displaying-a-bar-chart-and-a-table">
<code>bartab</code>: Displaying a bar chart and a table<a class="anchor" aria-label="anchor" href="#bartab-displaying-a-bar-chart-and-a-table"></a>
</h2>
<p>For some information, some people prefer a bar chart and other prefer
a table. This is an easy way to show both. It is less useful for
patients.</p>
<div class="section level3">
<h3 id="single-1">Single<a class="anchor" aria-label="anchor" href="#single-1"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="co"># Load the car dataset</span></span>
<span><span class="va">cyl</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span> <span class="co"># Convert cylinders to factors</span></span>
<span><span class="va">gears</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">gear</span><span class="op">)</span> <span class="co"># Convert gears to factors</span></span>
<span><span class="fu"><a href="../reference/bartab.html">bartab</a></span><span class="op">(</span>vals <span class="op">=</span> <span class="va">cyl</span>, xlab <span class="op">=</span> <span class="st">"Cylinders"</span>, ylab <span class="op">=</span> <span class="st">"Frequency"</span><span class="op">)</span> <span class="co"># The bartab function</span></span></code></pre></div>
<p><img src="RiskComVignette_files/figure-html/unnamed-chunk-8-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="multiple">Multiple<a class="anchor" aria-label="anchor" href="#multiple"></a>
</h3>
<p>This also works for multiple bar charts.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bartab.html">bartab</a></span><span class="op">(</span>vals <span class="op">=</span> <span class="va">cyl</span>, xlab <span class="op">=</span> <span class="st">"Cylinders"</span>, ylab <span class="op">=</span> <span class="st">"Frequency"</span>,</span>
<span>       vals2 <span class="op">=</span> <span class="va">gears</span>, flab <span class="op">=</span> <span class="st">"Gears"</span><span class="op">)</span></span></code></pre></div>
<p><img src="RiskComVignette_files/figure-html/unnamed-chunk-9-1.png" width="100%"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Joshua Bridge.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
